<template name="attachmentView">
    <script>
        function print() {
            popup = window.open('{{url}}');
            popup.focus(); //required for IE
            popup.print();
            //popup.close();
        }
    </script>
    <div class="attachment-view animated fadeIn" vertical layout fit>
        <div class="control-panel">
            <button mini class="btn-download  btn-floating waves-effect waves-light "
                    download onClick="window.open('{{url}}?download=true');return false;">
                <i class="mdi-file-file-download"></i>
            </button>
            <button mini class="btn-print  btn-floating waves-effect waves-light "
                    download onClick="print()">
                <i class="material-icons">print</i>
            </button>
            <button class="btn-close  btn-floating waves-effect waves-light " role="button" tabindex="0">
                <i class="mdi-navigation-close"></i>
            </button>
        </div>
        <div class="content">
            {{#if Template.subscriptionsReady}}
                <svg style="width:100%;height:100%;position:absolute;top:0;left:0;bottom:0;right:0;" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">
                    <g transform="scale(1)">
                      <image xlink:href="{{url}}" x="0" y="0" width="100%" height="100%"/>
                    </g>
                </svg>
            {{else}}
                <paper-spinner active></paper-spinner>
            {{/if}}
        </div>
    </div>
</template>